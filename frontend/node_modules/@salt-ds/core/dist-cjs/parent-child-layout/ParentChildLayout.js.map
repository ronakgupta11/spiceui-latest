{"version":3,"file":"ParentChildLayout.js","sources":["../src/parent-child-layout/ParentChildLayout.tsx"],"sourcesContent":["import { useComponentCssInjection } from \"@salt-ds/styles\";\nimport { useWindow } from \"@salt-ds/window\";\nimport { clsx } from \"clsx\";\nimport {\n  type ComponentPropsWithoutRef,\n  type ReactNode,\n  forwardRef,\n  useEffect,\n} from \"react\";\nimport type { Breakpoints } from \"../breakpoints\";\nimport { makePrefixer } from \"../utils\";\nimport { useIsViewportLargerThanBreakpoint } from \"./useIsViewportLargerThanBreakpoint\";\n\nimport parentChildLayoutCss from \"./ParentChildLayout.css\";\nexport interface ParentChildLayoutProps\n  extends ComponentPropsWithoutRef<\"div\"> {\n  /**\n   * Breakpoint at which the parent and child will stack.\n   */\n  collapseAtBreakpoint?: keyof Breakpoints;\n  /**\n   * View that is displayed when in a collapsed state.\n   */\n  visibleView?: \"child\" | \"parent\";\n  /**\n   * Controls the space between parent and child components, default is 0.\n   */\n  gap?: number;\n  /**\n   * Parent component to be rendered\n   */\n  parent: ReactNode;\n  /**\n   * Child component to be rendered\n   */\n  child: ReactNode;\n  /**\n   * Function called when the viewport size equal to or less than the collapseAtBreakpoint variable\n   */\n  onCollapseChange?: (isCollapsed: boolean) => void;\n}\n\nconst withBaseName = makePrefixer(\"saltParentChildLayout\");\n\nexport const ParentChildLayout = forwardRef<\n  HTMLDivElement,\n  ParentChildLayoutProps\n>(function ParentChildLayout(\n  {\n    collapseAtBreakpoint = \"sm\",\n    visibleView = \"child\",\n    parent,\n    child,\n    className,\n    gap = 0,\n    onCollapseChange,\n    style,\n    ...rest\n  },\n  ref,\n) {\n  const targetWindow = useWindow();\n  useComponentCssInjection({\n    testId: \"salt-parent-child-layout\",\n    css: parentChildLayoutCss,\n    window: targetWindow,\n  });\n\n  const isCollapsed = useIsViewportLargerThanBreakpoint(collapseAtBreakpoint);\n\n  useEffect(() => {\n    onCollapseChange?.(isCollapsed);\n  }, [isCollapsed, onCollapseChange]);\n\n  const parentChildLayoutStyles = {\n    ...style,\n    \"--parentChildLayout-gap\": `calc(var(--salt-spacing-100) * ${gap})`,\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(withBaseName(), className)}\n      style={parentChildLayoutStyles}\n      {...rest}\n    >\n      {isCollapsed ? (\n        <div\n          key={visibleView}\n          className={clsx({\n            [withBaseName(\"collapsed\")]: isCollapsed,\n            [withBaseName(\"childAnimation\")]: visibleView === \"child\",\n            [withBaseName(\"parentAnimation\")]: visibleView === \"parent\",\n          })}\n        >\n          {isCollapsed && visibleView === \"child\" ? child : parent}\n        </div>\n      ) : (\n        <>\n          <div className={withBaseName(\"parent\")}>{parent}</div>\n          <div className={withBaseName(\"child\")}>{child}</div>\n        </>\n      )}\n    </div>\n  );\n});\n"],"names":["makePrefixer","forwardRef","ParentChildLayout","useWindow","useComponentCssInjection","parentChildLayoutCss","useIsViewportLargerThanBreakpoint","useEffect","jsx","clsx","jsxs","Fragment"],"mappings":";;;;;;;;;;;;;;;AA0CA,MAAM,YAAA,GAAeA,0BAAa,uBAAuB,CAAA;AAE5C,MAAA,iBAAA,GAAoBC,gBAG/B,CAAA,SAASC,kBACT,CAAA;AAAA,EACE,oBAAuB,GAAA,IAAA;AAAA,EACvB,WAAc,GAAA,OAAA;AAAA,EACd,MAAA;AAAA,EACA,KAAA;AAAA,EACA,SAAA;AAAA,EACA,GAAM,GAAA,CAAA;AAAA,EACN,gBAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EACA,GACA,EAAA;AACA,EAAA,MAAM,eAAeC,gBAAU,EAAA;AAC/B,EAAyBC,+BAAA,CAAA;AAAA,IACvB,MAAQ,EAAA,0BAAA;AAAA,IACR,GAAK,EAAAC,mBAAA;AAAA,IACL,MAAQ,EAAA;AAAA,GACT,CAAA;AAED,EAAM,MAAA,WAAA,GAAcC,oEAAkC,oBAAoB,CAAA;AAE1E,EAAAC,eAAA,CAAU,MAAM;AACd,IAAmB,gBAAA,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAA,WAAA,CAAA;AAAA,GAClB,EAAA,CAAC,WAAa,EAAA,gBAAgB,CAAC,CAAA;AAElC,EAAA,MAAM,uBAA0B,GAAA;AAAA,IAC9B,GAAG,KAAA;AAAA,IACH,yBAAA,EAA2B,kCAAkC,GAAG,CAAA,CAAA;AAAA,GAClE;AAEA,EACE,uBAAAC,cAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,GAAA;AAAA,MACA,SAAW,EAAAC,SAAA,CAAK,YAAa,EAAA,EAAG,SAAS,CAAA;AAAA,MACzC,KAAO,EAAA,uBAAA;AAAA,MACN,GAAG,IAAA;AAAA,MAEH,QACC,EAAA,WAAA,mBAAAD,cAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UAEC,WAAWC,SAAK,CAAA;AAAA,YACd,CAAC,YAAA,CAAa,WAAW,CAAC,GAAG,WAAA;AAAA,YAC7B,CAAC,YAAA,CAAa,gBAAgB,CAAC,GAAG,WAAgB,KAAA,OAAA;AAAA,YAClD,CAAC,YAAA,CAAa,iBAAiB,CAAC,GAAG,WAAgB,KAAA;AAAA,WACpD,CAAA;AAAA,UAEA,QAAA,EAAA,WAAA,IAAe,WAAgB,KAAA,OAAA,GAAU,KAAQ,GAAA;AAAA,SAAA;AAAA,QAP7C;AAAA,0BAWLC,eAAA,CAAAC,mBAAA,EAAA,EAAA,QAAA,EAAA;AAAA,wBAAAH,cAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAW,YAAa,CAAA,QAAQ,GAAI,QAAO,EAAA,MAAA,EAAA,CAAA;AAAA,uCAC/C,KAAI,EAAA,EAAA,SAAA,EAAW,YAAa,CAAA,OAAO,GAAI,QAAM,EAAA,KAAA,EAAA;AAAA,OAChD,EAAA;AAAA;AAAA,GAEJ;AAEJ,CAAC;;;;"}